<!<!DOCTYPE>
<html lang="en">
    <head>
        <title>Friend Finder </title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
    </head>
    <script src="https://code.jquery.com/jquery.js"></script>`
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <body>
        
        <div id ="container">
            <div class ='jumbotron'>
                <div class ="vertical-align">
                    <h2>Friend Finder</h1>
                </div>
            </div>
            <div class='lower-heading'>
                <h3>About You</h4>
                <h4>Your Name</h4>
                <textarea type='input' id='name' phase='please your full name'></textarea>
                <h4>Link to Photo-required</h4>
                <textarea type = 'input' id='photo' phase='kkkkkkk@email.com'></textarea>
            </div>
            <div id='questionaire'>
                <h4>Question 1</h4>
                <p>Your mind is always buzzing with unexplored ideas and plans.</p>
                <select class = 'option-1' id='form-control'>
                    <option id='q1-1' value="0"></option>
                    <option id='q1-1' value="1">1</option>
                    <option id='q1-2' value="2">2</option>
                    <option id='q1-3' value="3">3</option>
                    <option id='q1-4' value="4">4</option>
                    <option id='q1-5' value="5">5</option>
                </select>
                <h4>Question 2</h4>
                <p>Generally speaking, you rely more on your experience than your imagination.</p>
                <select class = 'option-2'id='form-control'>
                    <option id='q2-1' value="0"></option>
                    <option id='q2-1' value="1">1</option>
                    <option id='q2-2' value="2">2</option>
                    <option id='q2-3' value="3">3</option>
                    <option id='q2-4' value="4">4</option>
                    <option id='q2-5' value="5">5</option>
                </select>
                <h4>Question 3</h4>
                <p>You find it easy to stay relaxed and focused even when there is some pressure.</p>
                <select class = 'option-3'id='form-control'>
                    <option id='q3-1' value="0"></option>
                    <option id='q3-1' value="1">1</option>
                    <option id='q3-2' value="2">2</option>
                    <option id='q3-3' value="3">3</option>
                    <option id='q3-4' value="4">4</option>
                    <option id='q3-5' value="5">5</option>
                </select>
                <h4>Question 4</h4>
                <p>You rarely do something just out of sheer curiosity.</p>
                <select class = 'option-4'id='form-control'>
                    <option id='q4-1' value="0"></option>
                    <option id='q4-1' value="1">1</option>
                    <option id='q4-2' value="2">2</option>
                    <option id='q4-3' value="3">3</option>
                    <option id='q4-4' value="4">4</option>
                    <option id='q4-5' value="5">5</option>
                </select>
                <h4>Question 5</h4>
                <p>People can rarely upset you.</p>
                <select class = 'option-5'id='form-control'>
                    <option id='q5-1' value="0"></option>
                    <option id='q5-1' value="1">1</option>
                    <option id='q5-2' value="2">2</option>
                    <option id='q5-3' value="3">3</option>
                    <option id='q5-4' value="4">4</option>
                    <option id='q5-5' value="5">5</option>
                </select>
                <h4>Question 6</h4>
                <p>t is often difficult for you to relate to other people’s feelings.</p>
                <select class = 'option-6'id='form-control'>
                    <option id='q6-1' value="0"></option>
                    <option id='q6-1' value="1">1</option>
                    <option id='q6-2' value="2">2</option>
                    <option id='q6-3' value="3">3</option>
                    <option id='q6-4' value="4">4</option>
                    <option id='q6-5' value="5">5</option>
                </select>
                <h4>Question 7</h4>
                <p>In a discussion, truth should be more important than people’s sensitivities.</p>
                <select class = 'option-7'id='form-control'>
                    <option id='q7-1' value="0"></option>
                    <option id='q7-1' value="1">1</option>
                    <option id='q7-2' value="2">2</option>
                    <option id='q7-3' value="3">3</option>
                    <option id='q7-4' value="4">4</option>
                    <option id='q7-5' value="5">5</option>
                </select>
                <h4>Question 8</h4>
                <p>You rarely get carried away by fantasies and ideas.</p>
                <select class = 'option-8'id='form-control'>
                    <option id='q8-1' value="0"></option>
                    <option id='q8-1' value="1">1</option>
                    <option id='q8-2' value="2">2</option>
                    <option id='q8-3' value="3">3</option>
                    <option id='q8-4' value="4">4</option>
                    <option id='q8-5' value="5">5</option>
                </select>
                <h4>Question 9</h4>
                <p>You think that everyone’s views should be respected regardless of whether they are supported by facts or not.</p>
                <select class = 'option-9'id='form-control'>
                    <option id='q9-1' value="0"></option>
                    <option id='q9-1' value="1">1</option>
                    <option id='q9-2' value="2">2</option>
                    <option id='q9-3' value="3">3</option>
                    <option id='q9-4' value="4">4</option>
                    <option id='q9-5' value="5">5</option>
                </select>
                <h4>Question 10</h4>
                <p>You feel more energetic after spending time with a group of people.</p>
                <select class = 'option-10'id='form-control'>
                    <option id='q10-1' value="0"></option>
                    <option id='q10-1' value="1">1</option>
                    <option id='q10-2' value="2">2</option>
                    <option id='q10-3' value="3">3</option>
                    <option id='q10-4' value="4">4</option>
                    <option id='q10-5' value="5">5</option>
                </select>

                <button type ='submit' id='submit-btn' class="btn btn-primary submit" >Submit</button>
                
            </div>
            
        </div>
        <!--location where the result would be displayed-->
        <div id ='resultsModal' class ="modal fade" role='dialog'>
            <div class='model-dialog'>
                <!--modal content-->
                <div class='modal-content'>
                    <button type="button" clas='close' data-dismiss='modal'>X</button>
                    <h2 class='modal-title'>
                        <strong>Best Match</strong>
                    </h2>
                </div>
                <div class='modal-body'>
                    <h2 id='match-name'></h2>
                    <img id='match-photo' src='' alt>
                </div>
                <div class='modal-footer'>
                    <button type='button' class='btn btn-default' data-dismiss='modal' data-target="#resultsModal">Close</button>
                </div>
            </div>
        </div>
        

    </body>
</html>
<script type="text/javascript">

	// Chosen CSS
	var config = {
	  '.chosen-select'           : {},
	  '.chosen-select-deselect'  : {allow_single_deselect:true},
	  '.chosen-select-no-single' : {disable_search_threshold:10},
	  '.chosen-select-no-results': {no_results_text:'Oops, nothing found!'},
	  '.chosen-select-width'     : {width:"95%"}
	}
	// for (var selector in config) {
	//   $(selector).chosen(config[selector]);
	// } ;//chosen CSS ends here


    
      	$("#submit-btn").on("click", function(){
		// Form validation
		function validateForm() {
			var isValid = true;
			$('.form-control').each(function() {
			if ( $(this).val() === '' )
				isValid = false;
			});
			$('.chosen-select').each(function() {
			if( $(this).val() === "")
				isValid = false;
			});
			return isValid;
		};


    //   //form validation
    //   function validateForm(){

    //             var isValid = true;
    //       $('#form-control').each(function(){

    //           if ($(this).val() ==='')
              
    //               isValid = false;
    //             });
    //     $('.choosen-select').each(function(){
    //           if($(this.val() ==='' )
                  
    //              isValid = false;
                  
    //           })
    //           return isValid;
      
    //             };
              //if all required fields are filled//
              if (validateForm() == true)
              {
                  var userChoice = 
                                {
                                    name:  $('#name').val(),
                                    photo: $('#photo').val(),
                                    score:[
                                    q1= parseInt($(".option-1").val()),
                                    q2= parseInt($(".option-2").val()),
                                    q3= parseInt($(".option-3").val()),
                                    q4= parseInt($(".option-4").val()),
                                    q5= parseInt($(".option-5").val()),
                                    q6= parseInt($(".option-6").val()),
                                    q7= parseInt($(".option-7").val()),
                                    q8= parseInt($(".option-8").val()),
                                    q9= parseInt($(".option-9").val()),
                                    q10= parseInt($(".option-10").val())
                                    ]
                                };

                                    //Grab the URL of the website//
                                    var currentLocation = window.location.origin;

                                    //AJAX to post the data to the friend API//
                                    $.post(currentLocation+"/api/friends", userChoice, function(data){
                                    
                                    $('#match-name').text(data.name);
                                    $('#match-photo').attr('src', data.photo);

                                    //Show the model with the best match//
                                    console.log($('#resultsModal'));
                                    $('#resultsModal').modal('show');
                                

                                });





                            console.log(userChoice);

              }

              else{
                  alert('please fill out all fields before submitting!');
              }
              return false; //keeps the page from refreshing upon clicking submit button//
          
          
     

     
      });
      

      
      
    //   $.post("/api/tables", userChoice,
    //     function(data) {

          

    //       // Clear the form when submitting
    //     //   userChoice=[
    //     //       {
    //     //         name:  $('#name').val(''),
    //     //         photo: $('#photo').val(''),
    //     //         score:[
    //     //                 q1= $(".option-1").val(""),
    //     //                 q2= $(".option-2").val(""),
    //     //                 q3= $(".option-3").val(""),
    //     //                 q4= $(".option-4").val(""),
    //     //                 q5= $(".option-5").val(""),
    //     //                 q6= $(".option-6").val(""),
    //     //                 q7= $(".option-7").val(""),
    //     //                 q8= $(".option-8").val(""),
    //     //                 q9= $(".option-9").val(""),
    //     //                 q10= $(".option-10").val("")
    //     //               ]
    //     //         }
    //     //         ]
    //         });
    

//     module.exports = userChoice;
 </script>

